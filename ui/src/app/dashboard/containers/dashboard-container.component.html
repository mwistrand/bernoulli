<div class="dashboard-container">
  <div class="dashboard-header">
    <h1>{{ 'projects.title' | translate }}</h1>
    <button class="button-primary" (click)="openDialog()">
      <lucide-icon [attr.aria-hidden]="true" [img]="PlusIcon" size="20" class="icon"></lucide-icon>
      {{ 'projects.newProject' | translate }}
    </button>
  </div>

  @if (projectsService.projects().length === 0) {
    <div class="empty-state">
      <lucide-icon [img]="FolderIcon" size="64" class="icon"></lucide-icon>
      <h2>{{ 'projects.empty.title' | translate }}</h2>
      <p>{{ 'projects.empty.message' | translate }}</p>
      <button class="button-primary" (click)="openDialog()">
        {{ 'projects.createProject' | translate }}
      </button>
    </div>
  } @else {
    <div class="projects-grid">
      @for (project of projectsService.projects(); track project.id) {
        <div
          class="project-card"
          (click)="navigateToProject(project.id)"
          (keydown.enter)="navigateToProject(project.id)"
          tabindex="0"
          role="button"
        >
          <div class="project-card-header">
            <h3>{{ project.name }}</h3>
          </div>
          @if (project.description) {
            <p class="project-description">{{ project.description }}</p>
          }
          <div class="project-meta">
            <span class="meta-item">
              <lucide-icon
                [attr.aria-hidden]="true"
                [img]="CalendarIcon"
                size="14"
                class="icon"
              ></lucide-icon>
              {{ project.createdAt | date: 'MMM d, yyyy' }}
            </span>
          </div>
        </div>
      }
    </div>
  }

  <bn-create-project-dialog
    [isOpen]="isDialogOpen()"
    (dialogClosed)="closeDialog()"
    (projectCreated)="onProjectCreated()"
  ></bn-create-project-dialog>
</div>
