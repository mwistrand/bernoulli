<div class="dashboard-container">
  <div class="dashboard-header">
    <h1>Projects</h1>
    <button class="button-primary" (click)="openDialog()">
      <lucide-icon [img]="PlusIcon" size="20" class="icon"></lucide-icon>
      New Project
    </button>
  </div>

  @if (projectsService.projects().length === 0) {
    <div class="empty-state">
      <lucide-icon [img]="FolderIcon" size="64" class="icon"></lucide-icon>
      <h2>No projects yet</h2>
      <p>Get started by creating your first project</p>
      <button class="button-primary" (click)="openDialog()">Create Project</button>
    </div>
  } @else {
    <div class="projects-grid">
      @for (project of projectsService.projects(); track project.id) {
        <div
          class="project-card"
          (click)="navigateToProject(project.id)"
          (keydown.enter)="navigateToProject(project.id)"
          tabindex="0"
          role="button"
        >
          <div class="project-card-header">
            <h3>{{ project.name }}</h3>
          </div>
          @if (project.description) {
            <p class="project-description">{{ project.description }}</p>
          }
          <div class="project-meta">
            <span class="meta-item">
              <lucide-icon [img]="CalendarIcon" size="14" class="icon"></lucide-icon>
              {{ project.createdAt | date: 'MMM d, yyyy' }}
            </span>
          </div>
        </div>
      }
    </div>
  }

  <bn-create-project-dialog
    [isOpen]="isDialogOpen()"
    (dialogClosed)="closeDialog()"
    (projectCreated)="onProjectCreated()"
  ></bn-create-project-dialog>
</div>
